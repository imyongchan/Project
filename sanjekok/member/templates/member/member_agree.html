{% extends "base.html" %}
{% load static %}
{% block title %}약관 동의 | 산재콕{% endblock %}

{% block script1 %}
<link rel="stylesheet" href="{% static 'CSS/member/member_agree.css' %}">
<script src="{% static 'js/member/member_agree.js' %}"></script>
{% endblock %}

{% block contents %}

<div class="agree-wrapper">
  <form method="post" id="agreeForm" class="agree-card">
    {% csrf_token %}

    <h2>약관 동의</h2>
    <p class="agree-desc">서비스 이용을 위해 아래 필수 항목에 동의해주세요.</p>

    <!-- ===================== 약관 동의 구역 ===================== -->
    <div class="agree-section">

      <div class="form-check all">
        <input class="form-check-input" type="checkbox" id="agree_all">
        <label for="agree_all"><strong>전체 동의</strong> (필수 항목 포함)</label>
      </div>

      <div class="form-check">
        <input class="form-check-input required-agree" type="checkbox" id="agree_priv" name="agree_priv" value="1">
        <label for="agree_priv">[필수] 개인정보 수집·이용 동의</label>
        <button type="button" class="btn-link" id="show-priv-modal-btn">약관보기</button>
      </div>

      <div class="form-check">
        <input class="form-check-input required-agree" type="checkbox" id="agree_term" name="agree_term" value="1">
        <label for="agree_term">[필수] 서비스 이용약관 동의</label>
        <button type="button" class="btn-link" id="show-term-modal-btn">약관보기</button>
      </div>

      <div class="form-check">
        <input class="form-check-input required-agree" type="checkbox" id="agree_marketing" name="agree_marketing" value="1">
        <label for="agree_marketing">[필수] 마케팅 정보 수신 동의 (이메일 / SMS)</label>
        <button type="button" class="btn-link" id="show-marketing-modal-btn">약관보기</button>
      </div>

      <small class="form-text text-muted">
        ※ 필수 항목에 동의하지 않으면 회원가입이 불가합니다.
      </small>
    </div>

    <button type="submit" class="btn-confirm" id="submitBtn">확인하기</button>
    <small id="agree-error-msg" class="form-text text-danger" style="display: none;">※ 필수 항목에 모두 동의해주세요.</small>
  </form>
</div>

<!-- ============= 모달: 개인정보 ============= -->
<div id="modalPrivOverlay" class="custom-modal-overlay">
  <div class="custom-modal">
    <div class="custom-modal-header">
      <h5>개인정보 수집·이용 동의</h5>
      <span class="custom-modal-close" data-close="modalPrivOverlay">&times;</span>
    </div>
    <div class="custom-modal-body">
      <div id="privContent" class="terms-content">
        [개인정보 수집·이용 동의서]

        당사는 회원 가입 및 서비스 제공을 위하여 아래와 같이 개인정보를 수집·이용합니다. 
        
        1. 수집 항목 
        - 필수 정보: 아이디, 비밀번호, 이름, 생년월일, 성별, 집 주소, 직장 주소, 전화번호, 이메일
        - 서비스 이용 과정에서 자동으로 수집되는 정보: 접속 기록, 쿠키, 접속 IP 주소, 기기 정보 등 
        
        2. 수집·이용 목적 
        - 회원 가입 및 본인 확인 
        - 서비스 제공 및 회원 관리 
        - 산업재해 위험도 분석 및 맞춤형 정보 제공 
        - 고객 문의 및 민원 처리 
        - 서비스 개선 및 통계 분석 

        3. 보유·이용 기간 
        - 회원 탈퇴 시 즉시 파기 단, 관련 법령에 따라 일정 기간 보관이 필요한 경우 해당 법령에 따름 
        (예: 전자상거래 등에서의 소비자보호에 관한 법률) 
        
        4. 동의를 거부할 권리 및 거부 시 불이익 이용자는 개인정보 수집·이용 동의를 거부할 권리가 있습니다. 
        다만, 필수 항목에 대한 동의를 거부할 경우 서비스 이용이 제한될 수 있습니다.
        본인은 위 내용을 충분히 이해하였으며, 개인정보 수집·이용에 동의합니다.
      
      </div>
    </div>
  </div>
</div>

<!-- ============= 모달: 이용약관 ============= -->
<div id="modalTermOverlay" class="custom-modal-overlay">
  <div class="custom-modal">
    <div class="custom-modal-header">
      <h5>서비스 이용약관</h5>
      <span class="custom-modal-close" data-close="modalTermOverlay">&times;</span>
    </div>
    <div class="custom-modal-body">
      <div id="termContent" class="terms-content">
        [서비스 이용약관]
        제1조 (목적)
        본 약관은 회사가 제공하는 ‘산업재해 위험도 분석 및 사고 예방 정보 제공 서비스’
        (이하 “서비스”)의 이용 조건 및 절차, 회사와 회원 간의 권리·의무 및 책임 사항을 규정합니다. 
        
        제2조 (용어 정의) 
        1. “회원”이라 함은 본 약관에 동의하고 서비스를 이용하는 자를 의미합니다. 
        2. “서비스”란 회사가 제공하는 웹사이트 및 관련 기능을 의미합니다. 
        3. “콘텐츠”란 서비스 내에서 제공되는 산업재해 관련 정보, 통계, 분석 자료 등을 의미합니다. 
        
        제3조 (약관의 효력 및 변경) 
        1. 본 약관은 서비스 화면에 게시함으로써 효력이 발생합니다. 
        2. 회사는 관련 법령을 위반하지 않는 범위 내에서 약관을 개정할 수 있습니다. 
        3. 변경된 약관은 공지 후 효력이 발생하며, 회원이 변경 사항에 동의하지 않을 경우 서비스 이용을 중단하고 탈퇴할 수 있습니다. 
        
        제4조 (회원 가입) 
        1. 회원은 회사가 정한 가입 양식에 따라 정보를 입력하고 약관에 동의하여 가입합니다. 
        2. 회사는 다음의 경우 가입을 거부할 수 있습니다. 
        - 허위 정보를 입력한 경우 
        - 타인의 명의를 사용한 경우 
        - 서비스 제공에 기술적·운영상 문제가 있다고 판단되는 경우 
        
        제5조 (서비스 이용) 
        1. 회사는 회원에게 산업재해 분석 정보 및 맞춤형 안전정보를 제공합니다. 
        2. 회사는 서비스의 안정적 제공을 위해 노력합니다. 
        
        제6조 (회원의 의무) 
        1. 회원은 자신의 계정 정보를 안전하게 관리해야 합니다.
        2. 회원은 다음 행위를 해서는 안 됩니다. 
        - 타인의 정보 도용 - 불법적 데이터 수집 
        - 서비스의 정상적인 운영을 방해하는 행위 
        - 기타 법령 및 공공질서에 반하는 행위 
        
        제7조 (회사의 의무) 
        1. 회사는 관련 법령을 준수하며 회원의 개인정보를 보호합니다. 
        2. 회사는 서비스 제공을 위해 필요한 경우 공지 후 서비스의 일부를 변경할 수 있습니다. 
        
        제8조 (콘텐츠의 저작권) 
        서비스 내 콘텐츠의 저작권은 회사 또는 정보 제공자에게 있으며 무단 복제·배포를 금지합니다. 
        
        제9조 (서비스 중단) 
        천재지변, 시스템 점검, 기술적 문제 등으로 서비스가 중단될 수 있으며, 회사는 사전에 공지하기 위해 노력합니다. 
        
        제10조 (회원 탈퇴 및 이용 제한)
        1. 회원은 언제든지 탈퇴할 수 있습니다. 
        2. 회사는 회원이 본 약관을 위반한 경우 이용을 제한할 수 있습니다. 
        
        제11조 (면책 조항) 
        회사는 다음 사항에 대해 책임을 지지 않습니다. 
        1. 회원의 귀책사유로 인한 서비스 장애 
        2. 외부 시스템 장애로 인한 정보 제공 지연 
        3. 제공되는 산업재해 위험도 데이터의 정확도·신뢰성에 관한 부분 본 약관은 회원이 서비스 이용을 개시한 때부터 효력이 발생합니다.
      </div>
    </div>
  </div>
</div>

<!-- ============= 모달: 마케팅 동의 ============= -->
<div id="modalMarketingOverlay" class="custom-modal-overlay">
  <div class="custom-modal">
    <div class="custom-modal-header">
      <h5>마케팅 정보 수신 동의</h5>
      <span class="custom-modal-close" data-close="modalMarketingOverlay">&times;</span>
    </div>
    <div class="custom-modal-body">
      <div id="markContent" class="terms-content">
      [마케팅 정보 수신 동의 안내] 
      회사는 회원에게 다음과 같은 정보 제공을 위하여 마케팅 정보를 발송할 수 있습니다. 
      1. 발송 항목 - 이메일, SMS 문자메시지 
      2. 발송 목적 - 서비스 업데이트 안내 - 신규 기능 및 이벤트 알림 - 할인, 프로모션, 뉴스레터 제공 
      3. 보유·이용 기간 - 동의 철회 또는 회원 탈퇴 시까지 본인은 회사의 마케팅 정보 수신에 동의합니다.
      </div>
    </div>
  </div>
</div>

{% endblock %}
